[gd_scene load_steps=5 format=3 uid="uid://bm2a5h72dryad"]

[ext_resource type="Texture2D" uid="uid://cj31lotbt7672" path="res://Assets/Props/Book_Side_32_32.png" id="1_f0u5k"]

[sub_resource type="GDScript" id="GDScript_0yk36"]
script/source = "extends AnimatableBody2D

var speed = 200
var move_up = false
var move_duration = 2.0 
var move_timer = 0.0
var drone_flag = 0
# Called when the node enters the scene tree for the first time.
func _ready():
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	if move_up:
		position.y -= speed * delta
		move_timer -= delta
		
		if move_timer <= 0:
			move_up = false
	

func _on_area_2d_body_entered(body):
	if body.name == \"Player\":
		if body.position.y < position.y && drone_flag != 1:
			move_up = true
			move_timer = move_duration
			drone_flag = 1
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aqex0"]
size = Vector2(11, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ytw4r"]
size = Vector2(32, 6)

[node name="drone" type="AnimatableBody2D"]
position = Vector2(320, 545)
script = SubResource("GDScript_0yk36")

[node name="Area2D" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(0, -1)
shape = SubResource("RectangleShape2D_aqex0")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_filter = 1
texture = ExtResource("1_f0u5k")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_ytw4r")
one_way_collision = true

[connection signal="body_entered" from="Area2D" to="." method="_on_area_2d_body_entered"]
